void mass(double A[3][3], double *x[2])
{
    int i, j, q;
    double J[2][2];
    double detJ;
    const double w[3]= {0.166667, 0.166667, 0.166667};
    const double CG1[3][3] = {{0.666667, 0.166667, 0.166667},
                              {0.166667, 0.666667, 0.166667},
                              {0.166667, 0.166667, 0.666667}};

    J[0][0] = x[1][0] - x[0][0];
    J[0][1] = x[2][0] - x[0][0];
    J[1][0] = x[1][1] - x[0][1];
    J[1][1] = x[2][1] - x[0][1];

    detJ = J[0][0] * J[1][1] - J[0][1] * J[1][0];

    for ( i = 0; i < 3; i++ ) {
        for ( j = 0; j < 3; j++ ) {
            A[i][j] = 0;
            for ( q = 0; q < 3; q++ )
                A[i][j] += CG1[i][q] * CG1[j][q] * detJ * w[q];
        }
    }
}
